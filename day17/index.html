<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>HTTP methods GET,POST,PATCH,PUT,DELETE 'CRUD' operation</title>
	</head>
	<body>
		<div>
			<ul id="un-list"></ul>
		</div>
		<script>
			// string/array reverse methods

			// let array = [1, 2, 3, 4, 5];
			// array.push({ firstname: "subash" });
			// console.log(array);
			// array.pop();
			// // array.slice()
			// console.log(array);

			// const abc = array.slice(1, 3);
			// console.log(abc);

			// array.unshift({ firstName: "pradip" });
			// console.log(array);
			// array.shift();
			// console.log(array);
			// array.reverse();
			// console.log(array);
			// let sum = 0;
			// array.map((data) => {
			// 	sum += data;
			// });
			// console.log(sum);

			// let reversedString = "";
			// const str = array.join("");

			// let string = "abbbc";

			// console.log(string.split(""));

			// let stringArray = string.split("");

			// stringArray.reverse();
			// let revString = stringArray.join("");

			// console.log(revString);
			// for (let i = string.length - 1; i >= 0; i--) {
			// 	reversedString = reversedString + string[i];
			// }
			// console.log(reversedString);
			// if (string === reversedString) {
			// 	console.log("palindrome");
			// } else {
			// 	console.log("not palindrome");
			// }

			// Asynchronous Programming

			// console.log("first line");

			// setTimeout(() => {
			// 	console.log("second line");
			// }, 5000);

			// console.log("third line");

			// callback;
			const posts = [
				{
					title: "Post 1",
					description: "Description 1",
				},
				{
					title: "Post 2",
					description: "Description 2",
				},
				{
					title: "Post 3",
					description: "Description 3",
				},
				{
					title: "Post 4",
					description: "Description 4",
				},
			];
			const unorderList = document.querySelector("ul");

			const getPosts = (val, callback) => {
				posts.map((post) => {
					const list = document.createElement("li");
					const data = document.createTextNode(
						document.getElementById("input-btn")
					);
					list.appendChild(data);
					unorderList.append(list);
				});
				// callback(sub);
			};

			const sum = (cb) => {
				console.log("first" + "second");
				cb();
			};

			const createPost = (post, callback) => {
				setTimeout(() => {
					posts.push(post);
					callback(post, sum);
				}, 2000);
			};
			// console.log('Loading')

			createPost({ title: "Post 5", description: "Description 5" }, getPosts);
			// getPosts();

			// callback hell
			// console.log(posts);

			// Promises
			const createPostPromise = (post) => {
				let error = false;
				return new Promise((resolve, reject) => {
					if (error) {
						reject("backend failed to submit data");
					} else {
						posts.push(post);
						resolve(post);
					}
				});
			};

			// function myFunction(){}
			const myFunction = (value) => {
				console.log(value);
				getPosts();
			};

			const myErr = (err) => {
				console.log(err);
			};

			createPostPromise({ title: "Post 6", description: "Description 6" })
				.then(myFunction)
				.catch(myErr);
			// async/await
		</script>
	</body>
</html>
